{
  "version": 3,
  "sources": ["../../yet-another-react-lightbox/dist/plugins/fullscreen/index.js"],
  "sourcesContent": ["import * as React from 'react';\r\nimport { makeUseContext, useDocumentContext, useLayoutEffect, cleanup, useEventCallback, clsx, cssClass, createIcon, useLightboxProps, IconButton, addToolbarButton, createModule } from '../../index.js';\r\nimport { PLUGIN_FULLSCREEN, CLASS_FULLSIZE, PLUGIN_THUMBNAILS, MODULE_CONTROLLER } from '../../types.js';\r\n\r\nconst defaultFullscreenProps = {\r\n    auto: false,\r\n    ref: null,\r\n};\r\nconst resolveFullscreenProps = (fullscreen) => ({\r\n    ...defaultFullscreenProps,\r\n    ...fullscreen,\r\n});\r\n\r\nconst FullscreenContext = React.createContext(null);\r\nconst useFullscreen = makeUseContext(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\r\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\r\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\r\n    const containerRef = React.useRef(null);\r\n    const [disabled, setDisabled] = React.useState();\r\n    const [fullscreen, setFullscreen] = React.useState(false);\r\n    const wasFullscreen = React.useRef(false);\r\n    const { getOwnerDocument } = useDocumentContext();\r\n    useLayoutEffect(() => {\r\n        var _a, _b, _c, _d;\r\n        const ownerDocument = getOwnerDocument();\r\n        setDisabled(!((_d = (_c = (_b = (_a = ownerDocument.fullscreenEnabled) !== null && _a !== void 0 ? _a : ownerDocument.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : ownerDocument.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : ownerDocument.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\r\n    }, [getOwnerDocument]);\r\n    const getFullscreenElement = React.useCallback(() => {\r\n        var _a;\r\n        const ownerDocument = getOwnerDocument();\r\n        const fullscreenElement = ownerDocument.fullscreenElement ||\r\n            ownerDocument.webkitFullscreenElement ||\r\n            ownerDocument.mozFullScreenElement ||\r\n            ownerDocument.msFullscreenElement;\r\n        return ((_a = fullscreenElement === null || fullscreenElement === void 0 ? void 0 : fullscreenElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.fullscreenElement) || fullscreenElement;\r\n    }, [getOwnerDocument]);\r\n    const enter = React.useCallback(() => {\r\n        const container = containerRef.current;\r\n        try {\r\n            if (container.requestFullscreen) {\r\n                container.requestFullscreen().catch(() => { });\r\n            }\r\n            else if (container.webkitRequestFullscreen) {\r\n                container.webkitRequestFullscreen();\r\n            }\r\n            else if (container.mozRequestFullScreen) {\r\n                container.mozRequestFullScreen();\r\n            }\r\n            else if (container.msRequestFullscreen) {\r\n                container.msRequestFullscreen();\r\n            }\r\n        }\r\n        catch (_) {\r\n        }\r\n    }, []);\r\n    const exit = React.useCallback(() => {\r\n        if (!getFullscreenElement())\r\n            return;\r\n        const ownerDocument = getOwnerDocument();\r\n        try {\r\n            if (ownerDocument.exitFullscreen) {\r\n                ownerDocument.exitFullscreen().catch(() => { });\r\n            }\r\n            else if (ownerDocument.webkitExitFullscreen) {\r\n                ownerDocument.webkitExitFullscreen();\r\n            }\r\n            else if (ownerDocument.mozCancelFullScreen) {\r\n                ownerDocument.mozCancelFullScreen();\r\n            }\r\n            else if (ownerDocument.msExitFullscreen) {\r\n                ownerDocument.msExitFullscreen();\r\n            }\r\n        }\r\n        catch (_) {\r\n        }\r\n    }, [getFullscreenElement, getOwnerDocument]);\r\n    React.useEffect(() => {\r\n        const ownerDocument = getOwnerDocument();\r\n        const listener = () => {\r\n            setFullscreen(getFullscreenElement() === containerRef.current);\r\n        };\r\n        return cleanup(...[\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"].map((event) => {\r\n            ownerDocument.addEventListener(event, listener);\r\n            return () => ownerDocument.removeEventListener(event, listener);\r\n        }));\r\n    }, [getFullscreenElement, getOwnerDocument]);\r\n    const onEnterFullscreen = useEventCallback(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\r\n    const onExitFullscreen = useEventCallback(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\r\n    React.useEffect(() => {\r\n        if (fullscreen) {\r\n            wasFullscreen.current = true;\r\n        }\r\n        if (wasFullscreen.current) {\r\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\r\n        }\r\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\r\n    const handleAutoFullscreen = useEventCallback(() => {\r\n        var _a;\r\n        (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a();\r\n        return exit;\r\n    });\r\n    React.useEffect(handleAutoFullscreen, [handleAutoFullscreen]);\r\n    const context = React.useMemo(() => ({ fullscreen, disabled, enter, exit }), [fullscreen, disabled, enter, exit]);\r\n    React.useImperativeHandle(ref, () => context, [context]);\r\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(PLUGIN_FULLSCREEN), cssClass(CLASS_FULLSIZE)) },\r\n        React.createElement(FullscreenContext.Provider, { value: context }, children)));\r\n}\r\n\r\nconst EnterFullscreenIcon = createIcon(\"EnterFullscreen\", React.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\r\nconst ExitFullscreenIcon = createIcon(\"ExitFullscreen\", React.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\r\nfunction FullscreenButton() {\r\n    var _a;\r\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\r\n    const { render } = useLightboxProps();\r\n    if (disabled)\r\n        return null;\r\n    if (render.buttonFullscreen) {\r\n        return React.createElement(React.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\r\n    }\r\n    return (React.createElement(IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\r\n}\r\n\r\nfunction Fullscreen({ augment, contains, addParent }) {\r\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\r\n        toolbar: addToolbarButton(toolbar, PLUGIN_FULLSCREEN, React.createElement(FullscreenButton, null)),\r\n        fullscreen: resolveFullscreenProps(fullscreen),\r\n        ...restProps,\r\n    }));\r\n    addParent(contains(PLUGIN_THUMBNAILS) ? PLUGIN_THUMBNAILS : MODULE_CONTROLLER, createModule(PLUGIN_FULLSCREEN, FullscreenContextProvider));\r\n}\r\n\r\nexport { Fullscreen as default };\r\n"],
  "mappings": "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",
  "names": []
}
